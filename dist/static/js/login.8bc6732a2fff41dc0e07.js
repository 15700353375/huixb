webpackJsonp([5],{309:function(t,e,o){var n=o(217)(o(337),o(365),null,null,null);t.exports=n.exports},317:function(t,e,o){"use strict";e.__esModule=!0;var n=o(218),s=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=s.default||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}},337:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(18),r=n(s),i=o(317),a=n(i),u=o(11),l=o(17),c=(n(l),o(2)),m=o(42);e.default={data:function(){return{form:{userName:"changh",password:"123456"},rules:{userName:[{required:!0,message:"帐号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{type:"string",min:6,message:"密码长度不能小于6位",trigger:"blur"}]},userInfo:{}}},mounted:function(){var t=[{meta:{title:"首页"},path:"/home",name:"home"}];this.$store.commit("common/setRouteTags",t)},computed:(0,a.default)({},(0,c.mapState)({})),methods:{handleSubmit:function(){var t=this;this.$refs.loginForm.validate(function(e){if(!e)return!1;var o={username:t.form.userName,password:t.form.password},n=t.$ajaxPost(u.urls.LOGIN,o);n&&n.then(function(e){e&&(Cookies.set("hxbToken",e.body.token),t.userInfo=e.body,t.$store.commit("login/setUserInfo",e.body),localStorage.setItem("hxb_userInfo",(0,r.default)(e.body)),t.getStudentList())}).catch(function(t){console.log(t)})})},getStudentList:function(){var t=this;this.$ajaxPost(u.urls.GET_STUDENT_LIST).then(function(e){t.$store.commit("common/setStudentList",e.body),localStorage.setItem("hxb_studentList",(0,r.default)(e.body)),t.getMenu()}).catch(function(t){console.log(t)})},getMenu:function(){var t=this;this.$ajaxPost(u.urls.GET_MENU).then(function(e){t.runIm(),t.$store.commit("common/setMenu",e.body),localStorage.setItem("hxb_menu",(0,r.default)(e.body)),t.$router.push({name:"home"})}).catch(function(t){console.log(t)})},runIm:function(){var t={sdkAppID:"1400074469",appIDAt3rd:"1400074469",identifier:this.userInfo.uid.toString(),identifierNick:this.userInfo.name,headurl:this.userInfo.avatar,accountType:1,userSig:this.userInfo.sign};this.$store.state.chat.loginInfo=t,localStorage.setItem("hxb_imLoginInfo",(0,r.default)(t)),(0,m.webimLogin)(t,this)}}}},365:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[o("div",{staticClass:"login_content"},[t._m(0),t._v(" "),o("i-form",{ref:"loginForm",attrs:{model:t.form,rules:t.rules,inline:""}},[o("Form-item",{staticClass:"login_form_item",attrs:{prop:"userName"}},[o("i-input",{attrs:{type:"text",placeholder:"请输入帐号"},model:{value:t.form.userName,callback:function(e){t.$set(t.form,"userName",e)},expression:"form.userName"}},[o("Icon",{attrs:{slot:"prepend",type:"ivu-icon ivu-icon-person"},slot:"prepend"})],1)],1),t._v(" "),o("Form-item",{staticClass:"login_form_item",attrs:{prop:"password"}},[o("i-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}},[o("Icon",{attrs:{slot:"prepend",type:"ivu-icon ivu-icon-locked"},slot:"prepend"})],1)],1),t._v(" "),o("Form-item",{staticClass:"login_form_item"},[o("i-button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit()}}},[t._v("登录")])],1)],1)],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login_title"},[o("i",{staticClass:"ivu-icon ivu-icon-log-in"}),t._v("\n        欢迎登录\n      ")])}]}}});